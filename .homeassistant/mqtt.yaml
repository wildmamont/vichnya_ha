#  - platform: onewire
#    scan_interval: 180
  sensor:
#    - name: "28_3c01b5563c0e_temperature"
#      state_topic: "tele/tasmota_95F7C9/SENSOR"
#      unit_of_measurement: "°C"
#      value_template: "{{value_json['DS18B20-1'].Temperature}}"
#      availability_topic: "tele/tasmota_95F7C9/LWT"
#      payload_available: "Online"
#      payload_not_available: "Offline"
#      json_attributes_topic: "tele/tasmota_95F7D3/SENSOR"
#      json_attributes_template: ">-
#        {%- set sourceid = '3C01B5563C0E' -%}
#        {%- for tsensor in value_json  -%}
#          {%- if value_json[tsensor].Id == sourceid -%} {{value_json[tsensor].Temperature}}
#          {%- endif -%}
#        {%- endfor %}"
#      device_class: temperature

#    - name: "28_3c01b5562324_temperature"
#      state_topic: "tele/tasmota_95F7C9/SENSOR"
#      unit_of_measurement: "°C"
#      value_template: "{{value_json['DS18B20-1'].Temperature}}"
#      availability_topic: "tele/tasmota_95F7C9/LWT"
#      payload_available: "Online"
#      payload_not_available: "Offline"
#      json_attributes_topic: "tele/tasmota_95F7C9/SENSOR"
#      json_attributes_template: ">-
#       {%- set sourceid = '3C01B5563C0E' -%}
#        {%- for tsensor in value_json  -%}
#          {%- if value_json[tsensor].Id == sourceid -%} {{value_json[tsensor].Temperature}}
#          {%- endif -%}
#        {%- endfor %}"
#      device_class: temperature
#Кухня  192.168.17.46
    - name: "28_3c01b55646ad_temperature"
      state_topic: "tele/tasmota_95FBBF/SENSOR"
      unit_of_measurement: "°C"
      value_template: "{{value_json['DS18B20-1'].Temperature}}"
      availability_topic: "tele/tasmota_95FBBF/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      json_attributes_topic: "tele/tasmota_95FBBF/SENSOR"
      json_attributes_template: ">-
        {%- set sourceid = '3C01B55646AD' -%}
        {%- for tsensor in value_json  -%}
          {%- if value_json[tsensor].Id == sourceid -%} {{value_json[tsensor].Temperature}}
          {%- endif -%}
        {%- endfor %}"
      device_class: temperature
## Чердак
## Восточная сторона
    - name: "28_3c01b556abd9_temperature"
      state_topic: "tele/tasmota_95FBBF/SENSOR"
      unit_of_measurement: "°C"
      value_template: "{{value_json['DS18B20-3'].Temperature}}"
      availability_topic: "tele/tasmota_95FBBF/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      json_attributes_topic: "tele/tasmota_95FBBF/SENSOR"
      json_attributes_template: ">-
      {%- set sourceid = '3C01B556ABD9' -%}
      {%- for tsensor in value_json  -%}
        {%- if value_json[tsensor].Id == sourceid -%} {{value_json[tsensor].Temperature}}
        {%- endif -%}
      {%- endfor %}"
      device_class: temperature
    - name: "28_3c01b556dd86_temperature"
      state_topic: "tele/tasmota_95FBBF/SENSOR"
      unit_of_measurement: "°C"
      value_template: "{{value_json['DS18B20-4'].Temperature}}"
      availability_topic: "tele/tasmota_95FBBF/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      json_attributes_topic: "tele/tasmota_95FBBF/SENSOR"
      json_attributes_template: ">-
      {%- set sourceid = '3C01B556DD86' -%}
      {%- for tsensor in value_json  -%}
        {%- if value_json[tsensor].Id == sourceid -%} {{value_json[tsensor].Temperature}}
        {%- endif -%}
      {%- endfor %}"
      device_class: temperature
    - name: "28_3c01b556ecd0_temperature"
      state_topic: "tele/tasmota_95FBBF/SENSOR"
      unit_of_measurement: "°C"
      value_template: "{{value_json['DS18B20-5'].Temperature}}"
      availability_topic: "tele/tasmota_95FBBF/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      json_attributes_topic: "tele/tasmota_95FBBF/SENSOR"
      json_attributes_template: ">-
        {%- set sourceid = '3C01B556ECD0' -%}
        {%- for tsensor in value_json  -%}
          {%- if value_json[tsensor].Id == sourceid -%} {{value_json[tsensor].Temperature}}
         {%- endif -%}
        {%- endfor %}"
      device_class: temperature


### 192.168.17.152 tasmota
## Подвал
### Временно выключаю 11.07.2025
#    - name: "28_3c01b5568add_temperature"
#      state_topic: "tele/tasmota_95FBBF/SENSOR"
#      unit_of_measurement: "°C"
#      value_template: "{{value_json['DS18B20-2'].Temperature}}"
#      availability_topic: "tele/tasmota_95FBBF/LWT"
#      payload_available: "Online"
#      payload_not_available: "Offline"
#      json_attributes_topic: "tele/tasmota_95FBBF/SENSOR"
#      json_attributes_template: ">-
#        {%- set sourceid = '3C01B5568ADD' -%}
#        {%- for tsensor in value_json  -%}
#          {%- if value_json[tsensor].Id == sourceid -%} {{value_json[tsensor].Temperature}}
#          {%- endif -%}
#        {%- endfor %}"
#      device_class: temperature


### 192.168.17.46 tasmota
## 2 этаж
    - name: "28_3c01b5560bc5_temperature"
      state_topic: "tele/tasmota_95F7BD/SENSOR"
      unit_of_measurement: "°C"
      value_template: "{{value_json.DS18B20.Temperature}}"
      availability_topic: "tele/tasmota_95F7BD/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      json_attributes_topic: "tele/tasmota_95F7BD/SENSOR"
      device_class: temperature

### второй этаж
#  - platform: mqtt
#    name: "28_3c01b556ecd0_temperature"
#    state_topic: "tele/tasmota_E3B487/SENSOR"
#    unit_of_measurement: "°C"
#    value_template: "{{value_json['DS18B20-2'].Temperature}}"
#    availability_topic: "tele/tasmota_E3B487/LWT"
#    payload_available: "Online"
#    payload_not_available: "Offline"
#    json_attributes_topic: "tele/tasmota_E3B487/SENSOR"
#    json_attributes_template: ">-
#      {%- set sourceid = '3C01B556ECD0' -%}
#      {%- for tsensor in value_json  -%}
#        {%- if value_json[tsensor].Id == sourceid -%} {{value_json[tsensor].Temperature}}
#        {%- endif -%}
#      {%- endfor %}"
#    device_class: temperature


## SonOff tasmota_D7D6C3  sensor:
    - name: "sonoff_D7D6C3_temperature"
      state_topic: "tele/tasmota_D7D6C3/SENSOR"
      unit_of_measurement: "°C"
      value_template: "{{value_json.SI7021.Temperature}}"
      availability_topic: "tele/tasmota_D7D6C3/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      device_class: temperature
    - name: "sonoff_D7D6C3_humidity"
      state_topic: "tele/tasmota_D7D6C3/SENSOR"
      unit_of_measurement: "%"
      value_template: "{{value_json.SI7021.Humidity}}"
      availability_topic: "tele/tasmota_D7D6C3/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      device_class: humidity
    - name: "sonoff_D7D6C3_dewpoint"
      state_topic: "tele/tasmota_D7D6C3/SENSOR"
      unit_of_measurement: "°C"
      value_template: "{{value_json.SI7021.DewPoint}}"
      availability_topic: "tele/tasmota_D7D6C3/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      device_class: temperature
## SonOff tasmota_D7B72F  sensor:
    - name: "sonoff_D7B72F_temperature"
      state_topic: "tele/tasmota_D7B72F/SENSOR"
      unit_of_measurement: "°C"
      value_template: "{{value_json.SI7021.Temperature}}"
      availability_topic: "tele/tasmota_D7B72F/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      device_class: temperature
    - name: "sonoff_D7B72F_humidity"
      state_topic: "tele/tasmota_D7B72F/SENSOR"
      unit_of_measurement: "%"
      value_template: "{{value_json.SI7021.Humidity}}"
      availability_topic: "tele/tasmota_D7B72F/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      device_class: humidity
    - name: "sonoff_D7B72F_dewpoint"
      state_topic: "tele/tasmota_D7B72F/SENSOR"
      unit_of_measurement: "°C"
      value_template: "{{value_json.SI7021.DewPoint}}"
      availability_topic: "tele/tasmota_D7D6C3/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      device_class: temperature
## Garage SHT30 sensor:
    - name: "Garage_temperature"
      state_topic: "tele/tasmota_6ACB7B/SENSOR"
      unit_of_measurement: "°C"
      value_template: "{{value_json.SHT3X.Temperature}}"
      availability_topic: "tele/tasmota_6ACB7B/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      device_class: temperature
    - name: "Garage_humidity"
      state_topic: "tele/tasmota_6ACB7B/SENSOR"
      unit_of_measurement: "%"
      value_template: "{{value_json.SHT3X.Humidity}}"
      availability_topic: "tele/tasmota_6ACB7B/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      device_class: humidity
    - name: "Garage_dewpoint"
      state_topic: "tele/tasmota_6ACB7B/SENSOR"
      unit_of_measurement: "°C"
      value_template: "{{value_json.SHT3X.DewPoint}}"
      availability_topic: "tele/tasmota_6ACB7B/LWT"
      payload_available: "Online"
      payload_not_available: "Offline"
      device_class: temperature


  switch:
    - name: "sonoff_D7D6C3"
      state_topic: "tele/tasmota_D7D6C3/RESULT"
      command_topic: "cmnd/tasmota_D7D6C3/POWER"
      value_template: "{{ value_json.POWER }}"
      availability_topic: "tele/tasmota_D7D6C3/LWT"      
      qos: 1      
      payload_on: "ON"      
      payload_off: "OFF"      
      payload_available: "Online"
      payload_not_available: "Offline"
      state_on: "ON"      
      state_off: "OFF"      
      retain: true
    - name: "sonoff_D7B72F"
      state_topic: "tele/tasmota_D7B72F/RESULT"
      command_topic: "cmnd/tasmota_D7B72F/POWER"
      value_template: "{{ value_json.POWER }}"
      availability_topic: "tele/tasmota_D7B72F/LWT"      
      qos: 1      
      payload_on: "ON"      
      payload_off: "OFF"      
      payload_available: "Online"
      payload_not_available: "Offline"
      state_on: "ON"      
      state_off: "OFF"      
      retain: true
    - name: "mini_DFD48B"
      unique_id: "mini_DFD48B"
      state_topic: "tele/tasmota_DFD48B/RESULT"
      command_topic: "cmnd/tasmota_DFD48B/POWER"
      value_template: "{{ value_json.POWER }}"
#      availability:
#        - topic: "tele/tasmota_DFD48B/STATE"
#            payload_available: ON
#            payload_available: OFF
#          value_template: "{{value_json.POWER}}"
      availability_topic: "tele/tasmota_DFD48B/LWT"      
      qos: 1      
      payload_on: "ON"      
      payload_off: "OFF"      
      payload_available: "Online"
      payload_not_available: "Offline"
#      payload_available: "ON"      
#      payload_not_available: "OFF"      
      state_on: "ON"      
      state_off: "OFF"      
      retain: true

